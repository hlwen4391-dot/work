# battle
battle


# battle
battle


### 20251201
1.else if 只能跟在 if 后面，不能跟在普通语句后面
2.作用域的作用与应用场景
3.创建对象（实例）
  const a = new 类名(...)
4.super的使用方法
  super() → 调用父类构造函数
  super.xxx → 调用父类的方法或属性
  没有 super，子类无法正确继承父类的内容
5.暴击逻辑：攻击*2-防御=伤害  生命值（hp）-伤害=现hp

### 20251202
function:function 语句是 JavaScript 中用于 声明一个函数 的语句，用来封装一段可以重复执行的代码
    function 函数名(参数1, 参数2, ...) {
  // 函数体：执行的代码
  return 返回值;  // 可选
}

sort：数组遍历
三元表达式（条件运算符）：条件 ? 表达式1 : 表达式2
意思是：
如果条件为 true → 用表达式1
否则 → 用表达式2

indexOf() 用来找某个元素在数组中的下标。

splice(start, deleteCount) 的意思是：
从 start 下标开始
删除 deleteCount 个元素


###20251203
战斗回放
在原有代码上里面加入每个人物攻击都有一个时间间断的概念，后续还要有一个技能的模块（先不管）



###20251204
.filter(...) 会遍历数组，并保留符合条件的元素。


编写一个战斗系统：
1.名字、生命值、攻击、防御、速度、随机概率暴击、随机概率miss、免伤率、攻击间隔（前摇、后摇）、技能、（后续要有buff，debuff的添加）
2.多人随机战斗（两个阵营pk），且速度快的优先进攻，真实时间驱动，战斗回放功能。

deltaTime,基于此代码上修改整个游戏引擎。
将普通攻击放入技能系列中。
async:异步函数。

###20251208
1.添加了buff系统
2.ActionSystem中攻击逻辑有问题（眩晕之后就不需要去找人攻击了）
3.技能优先级有问题，永远释放的是普通攻击，没有技能释放。


###20251209
修改了之前的遗留问题，技能优先级处理完了，被眩晕目标也不会再去找人攻击了，
但是在输出之后普工又被技能所覆盖，导致普工很难被触发。很影响进攻的节奏
1）技能优先级太高 -> 普攻基本消失
2）大部分技能冷却太短 -> 输出节奏很挤
3）deltaTime = 16ms → 技能检查每 1 帧 → 视觉上堆日志
4）普攻必须等所有技能冷却完才能触发 → 阻塞节奏
5）技能触发时机受帧影响 → 不是你想象的时间点
6）buff 伤害被挤在日志里，不突出
思考：我认为普功和技能应当分开，使攻击逻辑更顺畅，加入轻微的前摇和后摇感觉
